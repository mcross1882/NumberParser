(function(){function d(a){a=a||{};var c=a.separator?a.separator:",";a=a.decimalPoint?a.decimalPoint:".";var b=c+a;this.f=/%([-+])?([0-9])?(\d+)?([s])?d/;this.c=new RegExp("%([-+])?([0-9]+)?["+a+"]?([0-9]+)?([s])?f");this.o=/%.*?([s])?([df])/;this.s=new RegExp("(\\d\\d\\d\\d)["+b+"]");this.u=new RegExp("([^"+b+"])(\\d\\d\\d)(["+b+"])");this.j="0";this.b=12;this.m=2;this.l="+";this.separator=c;this.a=a}d.prototype.v=function(a,c){if("number"!=typeof a||isNaN(a))throw Error("Cannot parse value. Value must be a number");
var b=this.D(c),d=a;switch(b.i){case "d":d=this.h(a,c);break;case "f":d=this.G(a,c);break;default:throw Error('Unknown format type "'+b.i+'" was given');}b.N&&(d=this.B(d));return d};d.prototype.D=function(a){var c=a.match(this.o);if(!c||3>c.length||!c[2])throw Error("Could not parse "+a);return{N:"s"==c[1],i:c[2]}};d.prototype.h=function(a,c){var b=this.F(c);if(b)b.K?a=this.w(a,b.g,b.width):b.L&&(a=this.A(a,b.g,b.width));else return a;return c.replace(this.f,a)};d.prototype.F=function(a){a=a.match(this.f);
return!a||4>a.length?null:{K:"-"==a[1],L:"+"==a[1],g:a[2]?a[2]:this.j,width:a[3]?a[3]:this.b}};d.prototype.w=function(a,c,b){if(!b||0>b)return a;for(var d="",e=0;e++<b;)d+=c;return(d+a).slice(-b)};d.prototype.A=function(a,c,b){if(!b||0>b)return a;a=a.toString();for(var d=a.length;d++<b;)a+=c;return a};d.prototype.G=function(a,c){if(!this.I(c))throw Error("Invalid float format given. Too many decimal points in format");var b=this.C(c);if(!b)return a;b=this.J(a,b);return c.replace(this.c,b).replace(/[.]/g,
this.a)};d.prototype.I=function(a){return 2>=a.split(this.a).length};d.prototype.C=function(a){a=a.match(this.c);return!a||4>a.length?null:{M:a[1]?a[1]:this.l,width:a[2]?a[2].replace(/[-+]/g,""):this.b,precision:a[3]?a[3]:this.m}};d.prototype.J=function(a,c){var b=a.toString().split(".");b[0]=this.h(b[0],"%"+c.M+c.width+"d");2==b.length&&(b[1]=parseFloat("."+b[1]).toFixed(c.precision).split(".").pop());return b.join(".")};d.prototype.B=function(a){if(!a)return a;a=a.toString().split(this.a);var c=
this.H(a[0],this.separator);2==a.length&&(c+=this.a+a[1]);return c};d.prototype.H=function(a,c){var b=a;if(4>b.length)return b;for(b=b.replace(/(\d\d\d)$/g,c+"$1");this.s.test(b);)b=b.replace(this.u,"$1"+c+"$2$3");return b};d.prototype.parseValue=d.prototype.v;"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=d);"undefined"==typeof module&&"undefined"!=typeof window&&(window.NumberParser=d)})();
