(function(){function d(a){a=a||{};var c=a.separator?a.separator:",";a=a.decimalPoint?a.decimalPoint:".";var b=c+a;this.c=/%([-+])?([0-9])?(\d+)?([s])?d/;this.b=new RegExp("%([0-9]+)?["+a+"]?([0-9]+)?([s])?f");this.m=/%.*?([s])?([df])/;this.o=new RegExp("(\\d\\d\\d\\d)["+b+"]");this.s=new RegExp("([^"+b+"])(\\d\\d\\d)(["+b+"])");this.h="0";this.l=null;this.i=12;this.j=2;this.separator=c;this.a=a}d.prototype.u=function(a,c){if(isNaN(a))throw Error("Cannot parse value. Value must be a number");var b=
this.C(c),d=a;switch(b.g){case "d":d=this.G(a,c);break;case "f":d=this.F(a,c);break;default:throw Error('Unknown format type "'+b.g+'" was given');}b.K&&(d=this.A(d));return d};d.prototype.C=function(a){var c=a.match(this.m);if(!c||3>c.length||!c[2])throw Error("Could not parse "+a);return{K:"s"==c[1],g:c[2]}};d.prototype.G=function(a,c){var b=this.D(c);a=b&&b.J?this.v(a,b.f,b.width):this.w(a,b.f,b.width);return c.replace(this.c,a)};d.prototype.D=function(a){a=a.match(this.c);return!a||4>a.length?
null:{J:"-"==a[1],f:a[2]?a[2]:this.h,width:a[3]?a[3]:this.l}};d.prototype.v=function(a,c,b){if(!b||0>b)return a;for(var d="",e=0;e++<b;)d+=c;return(d+a).slice(-b)};d.prototype.w=function(a,c,b){if(!b||0>b)return a;a=a.toString();for(var d=a.length;d++<b;)a+=c;return a};d.prototype.F=function(a,c){if(!this.I(c))throw Error("Invalid float format given. Too many decimal points in format");var b=this.B(c);return b?c.replace(this.b,parseFloat(parseFloat(a).toPrecision(b.precision)).toFixed(b.scale)).replace(/[,.]/g,
this.a):a};d.prototype.I=function(a){return 2>=a.split(this.a).length};d.prototype.B=function(a){a=a.match(this.b);return!a||3>a.length?null:{precision:a[1]?a[1]:this.i,scale:a[2]?a[2]:this.j}};d.prototype.A=function(a){if(!a)return a;a=a.toString().split(this.a);var c=this.H(a[0],this.separator);2==a.length&&(c+=this.a+a[1]);return c};d.prototype.H=function(a,c){var b=a;if(4>b.length)return b;for(b=b.replace(/(\d\d\d)$/g,c+"$1");this.o.test(b);)b=b.replace(this.s,"$1"+c+"$2$3");return b};d.prototype.parseValue=
d.prototype.u;"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=d);"undefined"==typeof module&&"undefined"!=typeof window&&(window.NumberParser=d)})();
